# 规则

## 中文姓名

#### 描述

- 目前我国对公民的起名是没做字数限制的；
- 在已知的汉族户籍人口信息中，最长的姓名是达到了15个字；
- 《姓名登记条例(初稿)》中，拟对除少数民族以外的公民限制取名长度 --> 6个字以内；

#### 定义

1. 限制字符： 常用汉字、`·`、`•`；
2. 限制长度： 2-15位；

#### 代码

```js
/**
 * 中文姓名 --> 1. 汉字、·、•组成（即支持如“迪丽热巴·迪力木拉提”这样的名字）；
 *             2. 2-15位；
 */
export const checkChineseNameErr = (value) => {
  let errText = null // 错误信息
  const val = value.trim() // 去除首尾空格
  const regFormat = /^[\u4E00-\u9FA5\uf900-\ufa2d·•s]{2,15}$/ // 格式校验
  if (val === '') {
    errText = '请输入姓名'
  } else if (!regFormat.test(value)) {
    errText = '请输入正确的中文姓名'
  }
  return errText
}
```

## 手机号码

#### 描述

- 我国使用的号码为11位；
- 1-3位：网络识别号；
- 4-7位：地区编码；
- 8-11位：用户号码；
- 手机号码段（2019.12）：
```bash
# 中国电信号段
133、149、153、17[3、7]、18[0、1、9]、19[1、3、9]
# 中国联通号段
13[0-2]、145、15[5、6]、166、167、17[1、5、6]、18[5、6]
# 中国移动号段
13[4-9]、147、15[0-2, 7-9]、17[2、8]、18[2-4、7-8]、19[5、8]
# 其他号段
14号段以前为上网卡专属号段，如中国联通的是145，中国移动的是147等等
  ## 虚拟运营商
  电信：1700、1701、1702、162
  移动：1703、1705、1706、165
  联通：1704、1707、1708、1709、171、167
  卫星通信：1349(移动)、1740[0-5](电信)
  物联网网号：10648、1440 (移动)；10646、146(联通)；10649、1410(电信)
  国家工信部应急通信：1740[6-9]，1741[0-2]
```
#### 定义

1. 限制字符：数字(0-9)；
2. 限制长度：11位；
3. 特定组合：13[0-9]、14[5、7、9]、15[0-3、5-9]、16[6-7]、17[1-3、6-8]、18[0-9]、19[1、3、8、9]；
4. **注意**：手机号码段可能会每年更新/改变的，故此方法并非一劳永逸的；

#### 代码

```js
/**
 * 手机号码 --> 简单版
 */
export const checkMobileNumberErr = (value) => {
  let errText = null // 错误信息
  const val = value.trim() // 去除首尾空格
  const regFormat = /^1[3456789]\d{9}$/
  if (val === '') {
    errText = '请输入手机号码'
  } else if (!regFormat.test(val)) {
    errText = '请输入正确的手机号码'
  }
  return errText
}
```

## 车牌

#### 描述

- 目前的车牌一般分为普通，以及新能源2类；
- 普通车牌为7位，新能源车牌为8位；
- 车牌规则：
  1. 第一位是『汉字』，代表该车户口所在省级行政区 --> 各省/直辖市/自治区简称（或是特殊机构简称：使、领）；
  2. 第二位是『英文字母』，代表该车户口所在的地级行政区 --> 各地级市/区/自治州/盟字母代码；
     - A 通常为省会/首府/直辖市中心城区；
     - I、O通常会被跳过 --> O 一般被用于警车/机关单位；
  3. 普通车牌后5位编码规则有3类：
     - 全部是阿拉伯数字；
     - 单独使用『1位英文字母+4位数字』的组合；
     - 『2位英文字母+3位数字』的组合；
     - **注意**：I、O不能使用；
  4. 最后1位的特殊『汉字』：挂、领、港、澳、学、警、使；
  5. 新能源车牌后6位编码规则：
     - 在普通车牌的前提下提升1位；
     - 不同车辆类型分段管理：D 表示纯电动汽车 / F 表示非纯电动汽车；
     - 小车的 D/F 位于编码首位，第2位可以是字母/数字，其余位是数字；
     - 大车的 D/F 位于编码最后一位，其余位都是数字；

#### 定义

1. 限制位数：7位（普通）、8位（新能源）；
2. 第一位限定的『汉字』：京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领；
3. 第二位限定『英文字母』：A-Z；
4. 编码位：
  - 普通车牌：前4位的数字、字母组合 + 最1位可为数字、字母、特殊汉字；
  - 新能源车牌： 『小车』 - 第1位是D/F，第2位是字母或数字，后4位是数字；
               『大车』 - 前5位是数字，最后1位是D/F；


#### 代码

```js
/** 
 * 车牌（普通+新能源）
 */
export const checkLicense = (value) => {
  let errText = null // 错误信息
  const val = value.trim() // 去除首尾空格
  const regFormat = /^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[DF])|([DF]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/ // 车牌校验
  if (val === '') {
    errText = '请输入车牌号'
  } else if (val.length < 7) {
    errText = true
    // 1-7位不做校验 --> 填写完整再进行校验
  } else if (val.length > 8) {
    errText = '请正确输入7位或8位的车牌号'
  } else if (!regFormat.test(val)) {
    errText = '请输入正确的车牌号'
  }
  return errText
}
```

## 密码

## 数字

```js
/**
 * 数字校验 --> 整数
 *
 */
export const checkIntNumberErr = (str) => {
  let errText = null // 错误信息
  const val = str.trim() // 去除首尾空格
  const regFormat = /^[1-9]\d*$/
  if (val.length > 0 && !regFormat.test(val)) {
    errText = '不为数字'
  }
  return errText
}
```
