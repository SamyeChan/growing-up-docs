# 部署 | Nginx

![Nginx](./imgs/nginx.png)

"Nginx是一款轻量级的HTTP服务器，采用事件驱动的异步非阻塞处理方式框架，这让其具有极好的IO性能，时常用于服务端的反向代理和负载均衡。"

## 代理（Proxy）

服务端 & 客户端中间层

### 正向代理（Forward Proxy）

于 **客户端** 而言

1. 主人 `Client` 有一个请求：想吃 **全聚德** 的烤鸭；
2. 管家 `Proxy` 收到主人请求，于是向全聚德（特定目标 `Server`） 预约；
3. 全聚德 `Server` 反馈预约成功，主人 `Client` 收到消息表示非常开心；

- 正向代理中，`Client` 和 `Proxy` 是一家，且后者用于传递前者信息，而 `Server` 是被特指的。

### 反向代理（Reverse Proxy）

于 **服务端** 而言

1. 顾客 `Client` 想吃烤鸭，于是自己去到烤鸭店；
2. 扫码点餐系统 `Proxy` 为其进行点餐服务，并为其分派空闲期的厨师 `Server`，这样就能让店内的运作效率更高；

- 反向代理中，`Server` 和 `Proxy` 是一家，且是由 `Proxy` 去指定 `Server`的。

### Nginx 服务器

“一个高性能的 HTTP 和反向代理服务器，同时也是一个 IMAP / POP3 / SMTP 代理服务器。”

【反向代理服务器】客户端请求 Nginx 服务器，Nginx 服务器请求应用服务器，而后将结果返回给客户端。

【负载均衡】将请求/数据轮询分摊到多个服务器上执行，负载均衡的关键在于均匀。